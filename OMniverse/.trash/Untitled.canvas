{
	"nodes":[
		{"id":"051663717e517070","x":-125,"y":-30,"width":250,"height":60,"type":"text","text":"# #!/bin/bash\n\n# # Variables\n# REMOTE=\"mydrive:Obsidian\"\n# MOUNT_POINT=\"/home/lenovo/Documents/Obsidian\"\n\n# # Function to clean up (unmount) when stopping\n# cleanup() {\n#     echo \"Stopping Obsidian and unmounting rclone...\"\n#     if pgrep obsidian > /dev/null; then\n#         pkill obsidian\n#         echo \"Obsidian stopped.\"\n#     fi\n#     fusermount -u \"$MOUNT_POINT\" || umount \"$MOUNT_POINT\"\n#     echo \"Unmounted.\"\n#     exit\n# }\n\n# # Create the mount point if it doesn't exist\n# if [ ! -d \"$MOUNT_POINT\" ]; then\n#     mkdir -p \"$MOUNT_POINT\"\n# fi\n\n# # Mount the Google Drive folder using rclone\n# echo \"Mounting Google Drive...\"\n# rclone mount \"$REMOTE\" \"$MOUNT_POINT\" --vfs-cache-mode writes &\n# RCLONE_PID=$!\n\n# # Launch Obsidian\n# echo \"Starting Obsidian...\"\n# obsidian &\n\n# # Wait for the user to stop the process\n# echo \"Press Ctrl+C to stop Obsidian and unmount rclone.\"\n\n# # Trap to handle cleanup when the user presses Ctrl+C\n# trap cleanup SIGINT SIGTERM\n\n# # Keep the script running in the foreground\n# wait\n\n#!/bin/bash\n\n# Unmount the Rclone drive if it's already mounted\nif mountpoint -q /home/lenovo/Documents/Obsidian; then\n    echo \"Unmounting existing Rclone mount...\"\n    fusermount -u /home/lenovo/Documents/Obsidian\nfi\n\n# Kill any existing Rclone mount processes\npkill -f \"rclone mount mydrive:Obsidian\"\n\n# Kill any running Obsidian instances\npkill -f \"flatpak run md.obsidian.Obsidian\"\n\n# Mount Rclone drive\necho \"Mounting Rclone drive...\"\nrclone mount mydrive:Obsidian /home/lenovo/Documents/Obsidian \\\n    --vfs-cache-mode writes \\\n    --config /home/lenovo/.config/rclone/rclone.conf &\n\n# Wait a moment to ensure the mount is ready\nsleep 5\n\n# Run Obsidian\necho \"Starting Obsidian...\"\nflatpak run md.obsidian.Obsidian\n\n# Unmount the Rclone drive after Obsidian is closed\necho \"Unmounting Rclone drive...\"\nfusermount -u /home/lenovo/Documents/Obsidian\n\n# Ensure the Rclone process is killed\npkill -f \"rclone mount mydrive:Obsidian\"\n\necho \"Obsidian has been closed and Rclone drive unmounted.\"\n\n"}
	],
	"edges":[]
}